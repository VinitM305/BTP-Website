<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/homepage.css">
    <link rel="stylesheet" href="../css/contact.css">
    <link rel="stylesheet" href="../css/speakers.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
</head>
<body>
    <div id="preloader">
        <span class="loader"><span class="loader-inner"></span></span>
    </div>
    <div id="content" style="display: none;">
    <div class="wholenavbar">
        <div class="sideimage cdsalogo">
            <a href="homepage.html">
                <img src="../assests/cdsalogo.png" alt="No image available" class="i1">
            </a>
        </div>
        <div class="navbar" id="navlinks">
            <i class="fa fa-times fa" onclick="hidemenu()" id="close"></i>
            <ul class="ul">
                <li><a href="about.html" class="nav">About</a></li>
                <li><a href="organisers.html" class="nav">Organisers</a></li>
                <li><a href="speakers.html" class="nav">Speakers and Participants</a></li>
                <li><a href="venue.html" class="nav">Venue</a></li>
                <li><a href="accomodation.html" class="nav">Accomodation</a></li>
                <li><a href="schedule.html" class="nav">Schedule</a></li>
                <li><a href="poster.html" class="nav">Poster</a></li>
                <li><a href="abstracts.html" class="nav">Abstracts</a></li>
                <li><a href="gallery.html" class="nav">Gallery</a></li>
                <li><a href="contact.html" class="nav">Contact</a></li>
            </ul>
        </div>
        <i class="fa fa-bars" onclick="showmenu()" id="bars"></i>
        <div class="sideimage daulogo">
            <a href="homepage.html">
                <img src="../assests/DAU_logo.jpg" alt="No image available" class="i1 i2">
            </a>
        </div>
    </div>
    <section class="organisers">
        <div class="contact-bg">
            <h3>Meet our esteemed speakers and participants contributing their expertise.</h3>
            <h2>Speakers and Participants</h2>
            <div class="line">
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
        <div class="page-container">
            <div class="content-wrapper">
                <div class="speakers-display">
                    <div class="speaker-list">
                        <h2 class="list-title">Confirmed Speakers</h2>
                        <table class="speaker-table" id="confirmed-speakers">
                            <tbody></tbody>
                        </table>
                    </div>
                    
                    <div class="speaker-list">
                        <h2 class="list-title">Tentative Speakers</h2>
                        <table class="speaker-table" id="tentative-speakers">
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>

    </div>

    <!-- Footer Placeholder -->
    <div id="footer-placeholder"></div>

    <script>
        // Confirmed speakers data (sorted alphabetically)
        let confirmedSpeakers = JSON.parse(localStorage.getItem('confirmedSpeakers')) || 
        [
            "Alexander Hramov, IKBFU, Russia",
            "Alexander Pisarchik, UPM, Spain",
            "Aneta Koseska, MPI, Germany",
            "Christophe Letellier, UR, France",
            "Igor Franovic, UB, Serbia",
            "Javier Martín Buldú, UPM, Spain",
            "Jesus Gomez-Gardenes, UZ, Spain",
            "Juergen Kurths, PIK, Germany",
            "Kamrul Hassan, DU, Bangladesh",
            "Katherine Krischer, TUM, Germany",
            "Klaus Lenhertz, UBonn, Germany",
            "Louis M. Pecora, NRL, USA",
            "Mario Chavez, CNRS, France",
            "Michael Small, UWA, Australia",
            "Miguel AF Sanjuan, URJC, Spain",
            "Nikita Frolov, KU Leuven, Belgium",
            "Timoteo Carletti, UNamur, Belgium",
            "Tomasz Kapitaniak, LUT, Poland",
            "Ulrike Feudel, OU, Germany",
            "Yong Xu, NPU, China",
            "Yuriy Maistrenko, NU Kyiv, Ukraine",
            "Zbigniew R. Struzik, UTokyo, Japan",
            "Abhijit Sen, IPR, India",
            "Awadesh Prasad, DU, India",
            "D V Senthilkumar, IISER TVM, India",
            "G. Ambika, IISER Tirupati, India",
            "K Murali, AU Chennai, India",
            "M. S. Santhanam, IISER Pune, India",
            "M L Lakshmanan, BDU, India",
            "Manish Shrimali, CURAJ, India",
            "Neelima Gupte, IITM, India",
            "Palswamy Murugananda, BDU, India",
            "Punit Parmananda, IITB, India",
            "Ram Ramaswamy, IITD, India",
            "Ravindra Amritkar, PRL, India",
            "Sarika Jalan, IITI, India",
            "Senthilvelan Murugaian, BDU, India",
            "Sitabhra Sinha, IMSc, India",
            "Soumitro Banerjee, IISER K, India",
            "Sudeshna Sinha, IISER M, India",
            "Sujith R I, IITM, India",
            "Sumana Dutta, IITG, India",
            "Thamilmaran Kathamuthu, CIT, India"
        ].sort();

// Tentative speakers data (sorted alphabetically)
        let tentativeSpeakers = JSON.parse(localStorage.getItem('tentativeSpeakers')) || 
        [
            "A N Njah, UL, Nigeria",
            "C.-K. Chan, AS, Taiwan",
            "Dwavid Dudkowski, LUT, Poland",
            "Edward H. Hellen, UNC, USA",
            "Elbert E. Macau, UNIFESP, Brazil",
            "Gregory Osipov, UNN, Russia",
            "Hlda Cerdeira, ICTP-SAIFR, Brazil",
            "Igor Belykh, GSU, USA",
            "Matjaz Perc, UM, Slovenia",
            "Marek Balcerzak, LUT, Poland",
            "Murilo Baptista, UA, UK",
            "Norbert Marwan, PIK, Germany",
            "Peng Ji, FDU, China",
            "Ricardo Viana, UFPR, Brazil",
            "Rajarshi Roy, UMD, USA"
        ].sort();

    // Function to populate speaker tables with click events
    function saveToLocalStorage() {
        localStorage.setItem('confirmedSpeakers', JSON.stringify(confirmedSpeakers));
        localStorage.setItem('tentativeSpeakers', JSON.stringify(tentativeSpeakers));
    }

    // Function to populate speaker tables with click events
    function populateSpeakerTable(tableId, speakers, isConfirmed) {
        const tableBody = document.querySelector(`#${tableId} tbody`);
        tableBody.innerHTML = ""; // Clear existing data

        speakers.forEach((speaker, index) => {
            const row = document.createElement('tr');
            row.className = `speaker-row ${index % 2 === 0 ? 'odd-row' : 'even-row'}`;

            const cell = document.createElement('td');
            cell.className = 'speaker-entry';
            cell.textContent = speaker;
            
            // Add click event for moving speakers between lists
            cell.addEventListener("click", function() {
                moveSpeaker(speaker, isConfirmed);
            });

            row.appendChild(cell);
            tableBody.appendChild(row);
        });
    }

    // Function to move a speaker between lists
    function moveSpeaker(speaker, isConfirmed) {
        if (isConfirmed) {
            // If moving from Confirmed to Tentative
            const confirmMove = confirm(`Move "${speaker}" to Tentative Speakers?`);
            if (confirmMove) {
                confirmedSpeakers = confirmedSpeakers.filter(name => name !== speaker);
                tentativeSpeakers.push(speaker);
                tentativeSpeakers.sort(); // Keep sorted
            }
        } else {
            // If moving from Tentative to Confirmed
            const confirmMove = confirm(`Move "${speaker}" to Confirmed Speakers?`);
            if (confirmMove) {
                tentativeSpeakers = tentativeSpeakers.filter(name => name !== speaker);
                confirmedSpeakers.push(speaker);
                confirmedSpeakers.sort(); // Keep sorted
            }
        }

        // Save updated lists to Local Storage
        saveToLocalStorage();

        // Update both tables after modification
        populateSpeakerTable('confirmed-speakers', confirmedSpeakers, true);
        populateSpeakerTable('tentative-speakers', tentativeSpeakers, false);
    }

    // Populate tables on page load
    document.addEventListener('DOMContentLoaded', () => {
        populateSpeakerTable('confirmed-speakers', confirmedSpeakers, true);
        populateSpeakerTable('tentative-speakers', tentativeSpeakers, false);
    });

        var navbar = document.getElementById("navlinks");
        var bars = document.getElementById("bars");
        var close1 = document.getElementById("close");
        const navLinks = document.querySelectorAll(".nav");

        function removeActiveClass() {
    navLinks.forEach(link => {
        link.classList.remove("active");
        link.removeAttribute("onclick"); // Remove onclick from all links
        link.style.pointerEvents = "auto"; // Enable clicking again for other links
    });
}

// Highlight the active link based on current URL
function highlightActiveLink() {
    const currentPage = window.location.pathname.split("/").pop();

    // Remove active class and reset onclick for all links before adding it to the current one
    removeActiveClass();

    navLinks.forEach(link => {
        if (link.getAttribute("href") === currentPage) {
            link.classList.add("active");
            link.style.pointerEvents = "none"; // Make active link unclickable
        }
    });
}
        window.onload = function () {
            setTimeout(function () {
                document.getElementById('preloader').style.display = 'none';
                document.getElementById('content').style.display = 'block';
                highlightActiveLink();
            }, 2000);
        };

        function hidemenu() {
            if (window.innerWidth <= 1160) {
                navbar.style.left = "-400px";
                bars.style.display = "inline-block";
                close1.style.display = "none";
            }
        }
        function showmenu() {
            if (window.innerWidth <= 1160) {
                navbar.style.left = "-100px";
                bars.style.display = "none";
                close1.style.display = "inline-block";
            }
        }
        window.addEventListener("resize", function () {
            if (window.innerWidth > 1160) {
                bars.style.display = "none";
                close1.style.display = "none";
            } else {
                bars.style.display = "inline-block";
            }
        });

        // Load footer dynamically
        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            })
            .catch(error => console.error('Error loading footer:', error));
    </script>
</body>
</html>
